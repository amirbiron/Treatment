# Medicine Reminder Bot - Environment Variables Example
# Copy this file to .env and fill in your actual values

# ============================================================================
# BOT CONFIGURATION (REQUIRED)
# ============================================================================

# Get these from @BotFather on Telegram
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
BOT_USERNAME=medicine_reminder_bot

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# SQLite (recommended for development and small deployments)
DATABASE_URL=sqlite+aiosqlite:///./medicine_bot.db

# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql+asyncpg://username:password@localhost:5432/medicine_bot

# MySQL/MariaDB (alternative)
# DATABASE_URL=mysql+aiomysql://username:password@localhost:3306/medicine_bot

# ============================================================================
# DEPLOYMENT CONFIGURATION (for production)
# ============================================================================

# Webhook URL (required for Render/Heroku deployment)
# Replace 'your-app-name' with your actual app name
# WEBHOOK_URL=https://your-app-name.onrender.com

# Port (Render uses PORT environment variable)
# PORT=10000

# Environment flag (set to False for production)
# PRODUCTION=True

# ============================================================================
# LOGGING AND DEBUG
# ============================================================================

# Debug mode (True for development, False for production)
DEBUG=True

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# LOCALIZATION
# ============================================================================

# Default timezone for users (IANA timezone names)
DEFAULT_TIMEZONE=Asia/Jerusalem

# Alternative timezones:
# DEFAULT_TIMEZONE=UTC
# DEFAULT_TIMEZONE=America/New_York
# DEFAULT_TIMEZONE=Europe/London

# ============================================================================
# REMINDER SETTINGS
# ============================================================================

# How many minutes to snooze reminders
REMINDER_SNOOZE_MINUTES=5

# Maximum reminder attempts before marking as missed
MAX_REMINDER_ATTEMPTS=3

# ============================================================================
# INVENTORY SETTINGS
# ============================================================================

# Default threshold for low stock warnings
DEFAULT_LOW_STOCK_THRESHOLD=5.0

# How many days before expiry to warn about inventory
INVENTORY_WARNING_DAYS=3

# ============================================================================
# USER INTERFACE SETTINGS
# ============================================================================

# Maximum medicines to show per page in lists
MAX_MEDICINES_PER_PAGE=5

# How long keyboards stay active (seconds)
KEYBOARD_TIMEOUT_SECONDS=300

# ============================================================================
# REPORT SETTINGS
# ============================================================================

# Day of week for weekly reports (0=Monday, 6=Sunday)
WEEKLY_REPORT_DAY=0

# Time to send weekly reports (HH:MM format)
WEEKLY_REPORT_TIME=09:00

# Time to send daily reports to caregivers (HH:MM format)
CAREGIVER_DAILY_REPORT_TIME=20:00

# ============================================================================
# CAREGIVER SETTINGS
# ============================================================================

# Maximum caregivers per user
MAX_CAREGIVERS_PER_USER=5

# ============================================================================
# SECURITY SETTINGS (optional)
# ============================================================================

# Secret token for webhook validation (auto-generated from BOT_TOKEN if not set)
# WEBHOOK_SECRET_TOKEN=your_secret_token_here

# Allowed hosts for webhook (comma-separated)
# ALLOWED_HOSTS=your-app-name.onrender.com,localhost

# ============================================================================
# EXTERNAL SERVICES (optional - for future features)
# ============================================================================

# Email service (for sending reports to doctors)
# SMTP_SERVER=smtp.gmail.com
# SMTP_PORT=587
# EMAIL_USERNAME=your-email@gmail.com
# EMAIL_PASSWORD=your-app-password

# SMS service (for backup notifications)
# SMS_API_KEY=your_sms_api_key
# SMS_SENDER_ID=MedicineBot

# ============================================================================
# RATE LIMITING (optional)
# ============================================================================

# Maximum requests per user per minute
# MAX_REQUESTS_PER_MINUTE=60

# Maximum storage per user (MB)
# MAX_USER_STORAGE_MB=10

# ============================================================================
# BACKUP SETTINGS (optional)
# ============================================================================

# Automatic backup interval (hours)
# BACKUP_INTERVAL_HOURS=24

# Backup storage location
# BACKUP_STORAGE_PATH=./backups

# ============================================================================
# MONITORING AND ANALYTICS (optional)
# ============================================================================

# Error tracking service
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Analytics tracking
# ANALYTICS_ENABLED=False

# Health check endpoint
# HEALTH_CHECK_ENABLED=True

# ============================================================================
# DEVELOPMENT SETTINGS (only for development)
# ============================================================================

# Skip SSL verification (NEVER use in production)
# SKIP_SSL_VERIFICATION=False

# Mock external services
# MOCK_EXTERNAL_SERVICES=True

# Test bot token (different from production)
# TEST_BOT_TOKEN=1234567890:TEST_BOT_TOKEN_FOR_DEVELOPMENT

# ============================================================================
# EXAMPLE CONFIGURATIONS
# ============================================================================

# Example 1: Local Development
# BOT_TOKEN=your_bot_token
# DATABASE_URL=sqlite+aiosqlite:///./medicine_bot.db
# DEBUG=True
# LOG_LEVEL=DEBUG

# Example 2: Render Production
# BOT_TOKEN=your_bot_token
# WEBHOOK_URL=https://your-app.onrender.com
# DATABASE_URL=postgresql+asyncpg://user:pass@host:port/db
# DEBUG=False
# LOG_LEVEL=INFO

# Example 3: Heroku Production
# BOT_TOKEN=your_bot_token
# WEBHOOK_URL=https://your-app.herokuapp.com
# DATABASE_URL=postgres://user:pass@host:port/db
# DEBUG=False

# ============================================================================
# SECURITY NOTES
# ============================================================================

# 1. NEVER commit the .env file to version control
# 2. Keep your BOT_TOKEN secret - it provides full access to your bot
# 3. Use strong passwords for database connections
# 4. In production, use HTTPS webhooks only
# 5. Regularly rotate your secrets and tokens
# 6. Monitor access logs for suspicious activity

# ============================================================================
# COMMON ISSUES AND SOLUTIONS
# ============================================================================

# Issue: Bot doesn't respond
# Solution: Check BOT_TOKEN is correct and bot is not stopped

# Issue: Database connection fails
# Solution: Verify DATABASE_URL format and credentials

# Issue: Webhooks not working
# Solution: Ensure WEBHOOK_URL is publicly accessible HTTPS URL

# Issue: Reminders not sending
# Solution: Check timezone settings and APScheduler configuration

# Issue: Permission errors
# Solution: Verify file permissions and user permissions

# ============================================================================
# END OF CONFIGURATION
# ============================================================================
